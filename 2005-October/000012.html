<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [TAP-devel] C++ code
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/tap-devel/2005-October/index.html" >
   <LINK REL="made" HREF="mailto:tap-devel%40lists.berlios.de?Subject=Re%3A%20%5BTAP-devel%5D%20C%2B%2B%20code&In-Reply-To=%3C4354357D.1080404%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000011.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[TAP-devel] C++ code</H1>
    <B>Simon Capewell</B> 
    <A HREF="mailto:tap-devel%40lists.berlios.de?Subject=Re%3A%20%5BTAP-devel%5D%20C%2B%2B%20code&In-Reply-To=%3C4354357D.1080404%40gmail.com%3E"
       TITLE="[TAP-devel] C++ code">simon.capewell at gmail.com
       </A><BR>
    <I>Tue Oct 18 01:36:29 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000011.html">[TAP-devel] C++ code
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12">[ date ]</a>
              <a href="thread.html#12">[ thread ]</a>
              <a href="subject.html#12">[ subject ]</a>
              <a href="author.html#12">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd say go for it. If nothing else, it'll make inserting ad-hoc 
debugging statements a lot easier. What we would also get is:
1. Overloaded functions
2. Default parameters
3. Ability to add methods to structures.

If anyone steps outside the boundaries of what works they'll soon find out!

The Topfield compiler didn't do virtual functions either - I  tried and 
got nothing but crashes, it's probably to do with vtable pointers not 
being initialized when a TAP loads, similar to the problems with char* 
arrays.


Peter Urbanec wrote:
&gt;<i> I found a few hours to try and get the C++ compiler working.
</I>&gt;<i> 
</I>&gt;<i> The Good News.
</I>&gt;<i> --------------
</I>&gt;<i> Building a C++ toolchain is easy. A couple of trivial changes in the 
</I>&gt;<i> toolchain Makefile is all that is required.
</I>&gt;<i> 
</I>&gt;<i> I have a simple C++ test program that compiles and runs without crashing 
</I>&gt;<i> the Toppy.
</I>&gt;<i> 
</I>&gt;<i> It's possible to write an entire TAP in a single C++ file. There's no 
</I>&gt;<i> need to put the Topfield TAP_ID, et. al. macros into a separate C file, 
</I>&gt;<i> which was apparently required with the original Topfield compiler.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The Bad News.
</I>&gt;<i> -------------
</I>&gt;<i> It looks like virtual functions don't work.
</I>&gt;<i> 
</I>&gt;<i> There is no default implementation of operator new or operator delete. 
</I>&gt;<i> Classes must implement these operators as calls to TAP_MemAlloc() and 
</I>&gt;<i> TAP_MemFree().
</I>&gt;<i> 
</I>&gt;<i> There is no implementation of the Standard C++ library.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The Verdict.
</I>&gt;<i> ------------
</I>&gt;<i> If you are a C++ programmer and expect to make use of &quot;standard&quot; C++, 
</I>&gt;<i> you will be disappointed.
</I>&gt;<i> If you are a C programmer and would like a little bit of C++ syntactic 
</I>&gt;<i> sugar, this will do just fine.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Unless there is a lot of demand to have C++ support included as a 
</I>&gt;<i> standard feature in the toolchain, I won't be committing the C++ support 
</I>&gt;<i> very soon. It would require a new binary release of the toolchain, which 
</I>&gt;<i> is something I'd prefer not to do frivolously. Of course, I am happy to 
</I>&gt;<i> oblige if there *is* sufficient demand.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i>    Peter Urbanec
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> TAP-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/tap-devel">TAP-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/tap-devel">http://lists.berlios.de/mailman/listinfo/tap-devel</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000011.html">[TAP-devel] C++ code
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12">[ date ]</a>
              <a href="thread.html#12">[ thread ]</a>
              <a href="subject.html#12">[ subject ]</a>
              <a href="author.html#12">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/tap-devel">More information about the TAP-devel
mailing list</a><br>
</body></html>
